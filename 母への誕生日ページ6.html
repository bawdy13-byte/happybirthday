<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>お誕生日おめでとう — 母へ</title>
<style>
  :root{--bg:#fff8f0;--card:#ffffff;--accent:#e76f51;--muted:#666;--glass: rgba(255,255,255,0.7);--mobile-margin: 16px}
  *{box-sizing:border-box}
  body{margin:0;font-family:system-ui,-apple-system,"Hiragino Kaku Gothic ProN",Meiryo,Roboto,"Noto Sans JP",sans-serif;background:linear-gradient(180deg,#fff 0%,#fff8f0 100%);color:#222;font-size:16px;line-height:1.5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
  .wrap{max-width:900px;margin:var(--mobile-margin) auto;padding:var(--mobile-margin)}
  header{display:flex;gap:16px;align-items:center}
  .logo{width:74px;height:74px;border-radius:12px;overflow:hidden;flex:0 0 74px;background:linear-gradient(135deg,#ffe7dd,#ffd6c2);display:flex;align-items:center;justify-content:center}
  h1{margin:0;font-size:clamp(20px,4vw,34px);line-height:1.05}
  .subtitle{color:var(--muted);font-size:14px}
  .hero{margin-top:14px;background:var(--card);border-radius:14px;padding:14px;box-shadow:0 8px 20px rgba(0,0,0,0.06);position:relative;overflow:hidden}
  .big-title{font-size:clamp(28px,6vw,48px);font-weight:700;margin:6px 0;animation:fadeInUp 1.2s both}
  @keyframes fadeInUp{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:none}}
  .hero-grid{display:flex;flex-direction:column;gap:12px}
  @media(min-width:820px){.hero-grid{display:grid;grid-template-columns:1fr 320px;flex-direction:initial}}
  .panel{background:linear-gradient(180deg,#fff,#fff9f4);padding:14px;border-radius:10px;border:1px solid rgba(0,0,0,0.03)}
  .message{white-space:pre-wrap}
  .photo-placeholder{height:320px;border-radius:10px;display:flex;align-items:center;justify-content:center;padding:20px;color:#fff;text-align:center}
  .ph-1{background:linear-gradient(135deg,#e76f51,#f4a261)}
  .ph-2{background:linear-gradient(135deg,#2a9d8f,#2a9db2)}
  .ph-3{background:linear-gradient(135deg,#e9c46a,#f7d79c)}
  #fw{position:absolute;inset:0;pointer-events:none}
  footer{margin-top:18px;text-align:center;color:var(--muted);font-size:13px}
  @media(max-width:520px){.photo-placeholder{height:220px}.panel{padding:10px}}

  /* SPLASH overlay */
  .splash{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;z-index:9999;background:linear-gradient(180deg,#111827,#0b1220);color:#fff}
  .splash.hidden{opacity:0;visibility:hidden;pointer-events:none}
  .splash-canvas{position:absolute;inset:0;pointer-events:none}
  .splash-content{z-index:2;text-align:center;padding:24px}
  .splash-title{font-size:clamp(28px,8vw,64px);letter-spacing:2px;font-weight:800;opacity:0;transform:translateY(10px) scale(0.98);animation:popIn 1s ease forwards}
  .splash-sub{margin-top:8px;color:rgba(255,255,255,0.9);font-size:18px;opacity:0;transform:translateY(6px);animation:subIn 1s 0.35s ease forwards}
  @keyframes popIn{0%{opacity:0;transform:translateY(10px) scale(0.95)}60%{opacity:1;transform:translateY(-6px) scale(1.03)}100%{opacity:1;transform:none}}
  @keyframes subIn{0%{opacity:0;transform:translateY(8px)}100%{opacity:1;transform:none}}
  /* Auto-hide with pure CSS as a fallback for environments where JS runs slowly or is restricted */
  @keyframes splashAutoHide{0%{opacity:1;visibility:visible}80%{opacity:1;visibility:visible}100%{opacity:0;visibility:hidden;pointer-events:none}}
  #splash{animation:splashAutoHide 2.6s linear forwards}
</style>
</head>
<body>

<!-- SPLASH: shows before main content. click or auto-hide will remove it -->
<div id="splash" class="splash" role="dialog" aria-label="お誕生日のアニメーション" onclick="hideSplash()">
  <canvas id="splashCanvas" class="splash-canvas"></canvas>
  <div class="splash-content">
    <div class="splash-title">Happy Birthday</div>
    <div class="splash-sub">お誕生日おめでとう</div>
  </div>
</div>

<div class="wrap" id="mainContent" aria-hidden="true">
  <header>
    <div class="logo" aria-hidden="true"><div style="font-weight:700;color:#fff;font-size:18px">母へ</div></div>
    <div>
      <h1>お誕生日おめでとう！</h1>
      <div class="subtitle">いつもありがとう。今日はあなたの日です。</div>
    </div>
  </header>

  <main class="hero" id="hero">
    <canvas id="fw" aria-hidden="true"></canvas>
    <div class="hero-grid">
      <div class="left-column">
        <h2 class="big-title">お母さん、お誕生日おめでとう！</h2>

        <!-- 画像は廃止。プレースホルダーのカードを3つ表示 -->
        <div class="panel" style="display:grid;grid-template-columns:1fr;gap:10px">
          <div class="photo-placeholder ph-1" role="img" aria-label="思い出のプレースホルダー1">
            <div>
              <strong style="font-size:20px">思い出1</strong>
              <div style="margin-top:8px;font-size:14px">（ここに写真の代わりのテキストを置いています）</div>
            </div>
          </div>
          <div class="photo-placeholder ph-2" role="img" aria-label="思い出のプレースホルダー2">
            <div>
              <strong style="font-size:20px">思い出2</strong>
              <div style="margin-top:8px;font-size:14px">（差し替え不要）</div>
            </div>
          </div>
          <div class="photo-placeholder ph-3" role="img" aria-label="思い出のプレースホルダー3">
            <div>
              <strong style="font-size:20px">思い出3</strong>
              <div style="margin-top:8px;font-size:14px">（差し替え不要）</div>
            </div>
          </div>
        </div>

        <div class="panel" style="margin-top:12px">
          <h3>お母さんへのメッセージ</h3>
          <p class="message">お誕生日おめでとう！
いつも家族のために頑張ってくれてありがとう。
お母さんの笑顔が、私の一番の元気の源です。
これからもずっと元気で、たくさん一緒に楽しい思い出を作ろうね。
心から愛を込めて。</p>
        </div>
      </div>

      <aside class="right-column">
        <div class="panel">
          <h3>特別なクーポン</h3>
          <div class="coupon">
            <h4>肩もみ券 — 無期限</h4>
            <p>いつでもこの券を提示してね。愛を込めて。</p>
          </div>
          <div style="margin-top:12px">
            <a id="lineGift" class="btn" href="#" target="_blank" rel="noopener" style="display:inline-block;padding:10px 14px;border-radius:8px;background:var(--accent);color:#fff;text-decoration:none">LINEギフトを贈る</a>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <footer class="no-print">
    <div style="text-align:center;margin-top:10px;color:var(--muted);font-size:13px">このファイルは簡素化済みです。LINE内で開いても表示・共有しやすくなっています。</div>
  </footer>
</div>

<script>
// Provide a JS hide function that will run if scripts are allowed; also CSS auto-hide ensures splash disappears even when JS is restricted.
function hideSplash(){
  const splash = document.getElementById('splash');
  const main = document.getElementById('mainContent');
  if(!splash) return;
  splash.classList.add('hidden');
  // reveal main content to assistive tech
  if(main) main.setAttribute('aria-hidden','false');
  // start hero fireworks after small delay
  setTimeout(startHeroFireworks, 450);
  // remove node from DOM after transition to reduce memory
  setTimeout(()=>{ try{ splash.remove(); }catch(e){} }, 1200);
}

/* --- Splash animation (text + lightweight confetti) --- */
(function(){
  const splashCanvas = document.getElementById('splashCanvas');
  const sc = splashCanvas.getContext && splashCanvas.getContext('2d');
  let confetti = [];
  function fit(){ if(sc){ splashCanvas.width = window.innerWidth; splashCanvas.height = window.innerHeight; } }
  if(sc){ window.addEventListener('resize', fit); fit(); }
  function rand(a,b){ return a + Math.random()*(b-a); }
  function spawnConfetti(){
    if(!sc) return;
    const colors = ['#ff7a72','#ffd166','#06d6a0','#4cc9f0','#d0f4de'];
    for(let i=0;i<30;i++){
      confetti.push({ x: rand(0, splashCanvas.width), y: -rand(10,100), vx: rand(-0.6,0.6), vy: rand(1,3), r: rand(3,7), angle: rand(0,Math.PI*2), spin: rand(-0.1,0.1), color: colors[Math.floor(Math.random()*colors.length)], life: rand(80,140) });
    }
  }
  function drawConfetti(){ if(!sc) return; sc.clearRect(0,0,splashCanvas.width,splashCanvas.height); for(let i=confetti.length-1;i>=0;i--){ const p=confetti[i]; p.x+=p.vx; p.y+=p.vy; p.angle+=p.spin; p.life--; sc.save(); sc.translate(p.x,p.y); sc.rotate(p.angle); sc.fillStyle=p.color; sc.fillRect(-p.r/2, -p.r/2, p.r, p.r*1.6); sc.restore(); if(p.y > splashCanvas.height + 50 || p.life <= 0) confetti.splice(i,1); } }
  let spawnInterval = null; function startConfetti(){ if(!sc) return; spawnConfetti(); spawnInterval = setInterval(spawnConfetti, 420); }
  function stopConfetti(){ if(spawnInterval) clearInterval(spawnInterval); spawnInterval=null; }
  function tick(){ drawConfetti(); requestAnimationFrame(tick); }
  tick();
  // Attempt to auto-hide using JS as well — but CSS also auto-hides for environments with restricted JS.
  startConfetti(); setTimeout(()=> spawnConfetti(), 300);
  const DURATION = 2600; setTimeout(()=>{ stopConfetti(); hideSplash(); }, DURATION);
})();

/* --- hero fireworks (lightweight) --- */
function startHeroFireworks(){
  const canvas = document.getElementById('fw');
  const hero = document.getElementById('hero');
  const ctx = canvas.getContext && canvas.getContext('2d');
  if(!ctx) return;
  let particles = [];
  function fit(){ canvas.width = hero.clientWidth; canvas.height = hero.clientHeight; }
  window.addEventListener('resize', fit); fit();
  function rand(a,b){ return a + Math.random()*(b-a); }
  const palette = ['#e76f51','#f4a261','#e9c46a','#2a9d8f','#264653'];
  function spawn(x,y){ const col = palette[Math.floor(Math.random()*palette.length)]; const [r,g,b]=hexToRgb(col); for(let i=0;i<40;i++){ const angle=Math.random()*Math.PI*2; const speed=rand(1,4); particles.push({x,y,vx:Math.cos(angle)*speed,vy:Math.sin(angle)*speed- rand(1,3),r,g,b,life:rand(40,100),age:0,size:rand(1.5,3)}); } }
  function hexToRgb(hex){ const v=hex.replace('#',''); return [parseInt(v.slice(0,2),16),parseInt(v.slice(2,4),16),parseInt(v.slice(4,6),16)]; }
  setTimeout(()=>{ spawn(canvas.width*0.2, canvas.height*0.3); spawn(canvas.width*0.8, canvas.height*0.35); },300);
  function tick(){ ctx.clearRect(0,0,canvas.width,canvas.height); for(let i=particles.length-1;i>=0;i--){ const p=particles[i]; p.x+=p.vx; p.y+=p.vy; p.vy+=0.03; p.age++; const a=Math.max(0,1-p.age/p.life); if(a<=0){particles.splice(i,1); continue;} ctx.beginPath(); ctx.arc(p.x,p.y,p.size,0,Math.PI*2); ctx.fillStyle=`rgba(${p.r},${p.g},${p.b},${a})`; ctx.fill(); } requestAnimationFrame(tick); }
  tick(); hero.addEventListener('click', function(e){ const r=canvas.getBoundingClientRect(); spawn(e.clientX - r.left, e.clientY - r.top); });
}
</script>
</body>
</html>